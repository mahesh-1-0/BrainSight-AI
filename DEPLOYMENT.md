# Deployment Checklist

## Pre-Deployment

- [x] ✅ Project structure organized
- [x] ✅ Environment variables configured
- [x] ✅ Dependencies listed in requirements.txt
- [x] ✅ Render configuration created (render.yaml)
- [x] ✅ Procfile created for alternative deployment
- [x] ✅ .gitignore configured
- [x] ✅ README.md with instructions

## GitHub Setup

1. **Initialize Git Repository** (if not already done)
   ```bash
   git init
   git add .
   git commit -m "Initial commit - organized for deployment"
   ```

2. **Create GitHub Repository**
   - Go to GitHub and create a new repository
   - Don't initialize with README (you already have one)

3. **Push to GitHub**
   ```bash
   git remote add origin <your-github-repo-url>
   git branch -M main
   git push -u origin main
   ```

## Render Deployment

1. **Connect Repository**
   - Go to [Render Dashboard](https://dashboard.render.com)
   - Click "New +" → "Web Service"
   - Connect your GitHub account
   - Select your repository

2. **Configure Service**
   - Render will auto-detect `render.yaml` configuration
   - Service name: `brain-tumor-detection` (or your choice)
   - Environment: `Python 3`
   - Build Command: `pip install -r requirements.txt`
   - Start Command: `gunicorn app:app`

3. **Set Environment Variables**
   In Render Dashboard → Environment:
   - `GEMINI_API_KEY`: Your Google Gemini API key (REQUIRED)
   - `SECRET_KEY`: Auto-generated by Render (or set manually)
   - `PORT`: Automatically set by Render
   
   **Reference:** See `env.example` file for all available environment variables and their descriptions.

4. **Deploy**
   - Click "Create Web Service"
   - Wait for build to complete (may take 5-10 minutes)
   - Your app will be live at `https://your-service-name.onrender.com`

## Post-Deployment

- [ ] Test the application with a sample brain scan
- [ ] Verify PDF generation works
- [ ] Check that Gemini API integration is working
- [ ] Monitor logs for any errors
- [ ] Set up custom domain (optional)

## Troubleshooting

### Build Fails
- Check Render logs for specific errors
- Verify all dependencies in requirements.txt are correct
- Ensure Python version is compatible (3.11+)

### Model File Too Large
If `best_model_dense.h5` exceeds GitHub's 100MB limit:
- Use Git LFS: `git lfs track "*.h5"`
- Or host model separately and download during build

### API Errors
- Verify `GEMINI_API_KEY` is set correctly in Render
- Check API key permissions and quotas
- Review application logs for specific error messages

### Slow First Request
- Normal for Render free tier (cold starts)
- Consider upgrading to paid plan for better performance

## Environment Variables Reference

| Variable | Required | Description | Default |
|----------|----------|-------------|---------|
| `GEMINI_API_KEY` | Yes | Google Gemini API key | None |
| `SECRET_KEY` | Yes | Flask session secret | Auto-generated |
| `PORT` | No | Server port | 10000 (Render) |
| `FLASK_ENV` | No | Flask environment | production |
